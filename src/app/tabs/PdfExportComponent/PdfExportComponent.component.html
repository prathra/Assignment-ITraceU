<div >

    <div class="col">
      <h4 class="fw-bold border-bottom pb-2">ðŸ§© Rule Configurations Table</h4>
    </div>

  <div class="ag-theme-quartz mb-4" style="width: 100%; height: 300px;">
    <ag-grid-angular
      [rowData]="rowData"
      style="width: 100%; height: 300px;"
      [columnDefs]="columnDefs"
      [defaultColDef]="defaultColDef"
      rowSelection="multiple"
      (selectionChanged)="onSelectionChanged($event)"
      (gridReady)="onGridReady($event)"
      (rowClicked)="onRowClicked($event)">
    </ag-grid-angular>
  </div>
  <div class="d-flex gap-3">
    <!-- <button class="btn btn-success" (click)="saveData()">Save Data</button> -->
      <select
      id="columnSelect"
      class="form-select w-auto d-inline-block"
      (change)="toggleColumn($event)">
      <option selected>Remove Column</option>
      <option *ngFor="let col of columnDefs" [value]="col.field">
        {{ col.headerName }}
      </option>
    </select>
  </div>

  <div class="row mt-4 mb-3">
    <div class="col">
      <h4 class="fw-bold border-bottom pb-2">ðŸ§© Rule Configurations Form</h4>
    </div>
  </div>

  <form [formGroup]="formData" (ngSubmit)="addRow()" class="mt-4">
    <div class="row g-3">
      <div class="col-md-3">
        <input formControlName="ruleName" class="form-control" placeholder="Rule Name" />
      </div>
      <div class="col-md-2">
        <input formControlName="type" class="form-control" placeholder="Type" />
      </div>
      <div class="col-md-2">
        <input formControlName="subType" class="form-control" placeholder="Subtype" />
      </div>
      <div class="col-md-2">
        <input formControlName="impacted" class="form-control" type="number" placeholder="Impacted" />
      </div>
      <div class="col-md-2">
        <select formControlName="alert" class="form-select">
          <option value="Y">Alert: Y</option>
          <option value="N">Alert: N</option>
        </select>
      </div>
      <div class="col-md-3">
        <input type="datetime-local" class="form-control" formControlName="lastScheduledDate" />
      </div>
      <div class="col-md-2">
        <select formControlName="scheduled" class="form-select">
          <option value="Y">Scheduled: Y</option>
          <option value="N">Scheduled: N</option>
        </select>
      </div>
      <div class="col-md-2">
        <select formControlName="active" class="form-select">
          <option value="Y">Active: Y</option>
          <option value="N">Active: N</option>
        </select>
      </div>
      <div class="col-md-2">
        <select formControlName="favourite" class="form-select">
          <option value="Y">Fav: Y</option>
          <option value="N">Fav: N</option>
        </select>
      </div>
      <div class="col-md-2">
        <input formControlName="domain" class="form-control" placeholder="Domain" />
      </div>
      <div class="col-md-12" *ngIf="checktrue">
        <button class="btn btn-primary" type="submit">Save </button>
      </div>
      <div class="col-md-12" *ngIf="!checktrue">
        <button class="btn btn-info text-white" (click)="updateData()">Update Data</button>
      </div>
    </div>
  </form>


</div>
